define(["react","@floating-ui/react-dom"],function(e,t){return function(){"use strict";var n={110:function(e){e.exports=t},959:function(t){t.exports=e}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e](i,i.exports,o),i.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i);var s=o(959),a=o.n(s),u=o(110);const l=(0,s.forwardRef)((e,t)=>{const n=e.popup,[r,o]=(0,s.useState)(),i=(0,s.useRef)(null),l=(0,s.useRef)(document.body.style.userSelect),d=(0,s.useRef)(void 0),{x:c,y:f,strategy:p,refs:m,isPositioned:y}=(0,u.useFloating)({strategy:"fixed",placement:"top",whileElementsMounted:u.autoUpdate,middleware:[(0,u.inline)(),(0,u.offset)({mainAxis:10,alignmentAxis:0}),(0,u.flip)(),(0,u.shift)({mainAxis:!0,crossAxis:!1,limiter:(0,u.limitShift)()}),(0,u.hide)({strategy:"referenceHidden"})]}),g=(0,s.useCallback)(async()=>{if(e.disabled)return;o(void 0),await new Promise(e=>setTimeout(e));const t=document.getSelection();if(!t||t.isCollapsed||!t.toString().length)return;if(!i.current?.contains(t.anchorNode))return;const n=t.getRangeAt(0);d.current=n.toString(),o(n.toString()),m.setReference(n)},[m]);return(0,s.useEffect)(()=>(document.addEventListener("pointerup",g),()=>{document.removeEventListener("pointerup",g)}),[g]),(0,s.useImperativeHandle)(t,()=>({hidePopup:()=>{window.getSelection()?.empty?.(),window.getSelection()?.removeAllRanges?.()}})),a().createElement(a().Fragment,null,a().createElement("div",{style:{userSelect:"text",...e.style},ref:i,className:e.className,onPointerDown:()=>{e.disabled||(document.body.style.userSelect="none")},onPointerUp:()=>{e.disabled||(document.body.style.userSelect=l.current)}},e.children),a().createElement("div",{ref:m.setFloating,className:e.popupClassName,style:{position:p,top:0,left:0,transform:y?`translate3d(${Math.round(c??0)}px, ${Math.round(f??0)}px, 0)`:"translate3d(0, -200%, 0)",userSelect:"none",minWidth:"max-content",zIndex:9999,transition:"opacity 0.3s ease-in-out",opacity:void 0===r?0:1,visibility:void 0===r?"hidden":"visible",...e.popupStyle}},a().createElement(n,{text:d.current})))});return i.default=l,i}()});
//# sourceMappingURL=aves.js.map